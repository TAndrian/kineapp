{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue","mtime":1642016766131},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uL21haW4uanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCgppbXBvcnQgeyBSRFYsIFJEVkNvbnZlcnRlciB9IGZyb20gIi4uL21vZGVsL3Jkdi5qcyI7CmltcG9ydCB7IFBhdGllbnRDb252ZXJ0ZXIgfSBmcm9tICIuLi9tb2RlbC9wYXRpZW50LmpzIjsKdmFyIHBhdGllbnRzID0ge307CnZhciByZHZzID0gW107CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZUtpbmUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXRpZW50czogcGF0aWVudHMsCiAgICAgIHJkdnM6IHJkdnMsCiAgICAgIHBhdGllbnRJbWc6ICJodHRwczovL3NlbWFudGljLXVpLmNvbS9pbWFnZXMvYXZhdGFyMi9sYXJnZS9tYXR0aGV3LnBuZyIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvKgogICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZCgodXNlckF1dGgpID0+IHsKICAgICAgaWYgKHVzZXJBdXRoKSB7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5hdXRoKCkKICAgICAgICAgIC5jdXJyZW50VXNlci5nZXRJZFRva2VuUmVzdWx0KCkKICAgICAgICAgIC50aGVuKCh0b2tlblJlc3VsdCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlblJlc3VsdC5jbGFpbXMpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgKi8KICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICB0b2RheS5zZXRIb3VycygwKTsKICAgIHZhciB0b21vcnJvdyA9IG5ldyBEYXRlKCk7CiAgICB0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93LmdldERhdGUoKSArIDEpOwogICAgdG9tb3Jyb3cuc2V0SG91cnMoMCk7CiAgICB2YXIgaWRzID0gW107CiAgICBkYi5jb2xsZWN0aW9uKCdyZHYnKS53aXRoQ29udmVydGVyKFJEVkNvbnZlcnRlcikud2hlcmUoInN0YXJ0IiwgIj4iLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLmZyb21EYXRlKHRvZGF5KSkud2hlcmUoInN0YXJ0IiwgIjwiLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLmZyb21EYXRlKHRvbW9ycm93KSkuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnkpIHsKICAgICAgcXVlcnkuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgX3RoaXMucmR2cy5wdXNoKGRvYy5kYXRhKCkpOwoKICAgICAgICBpZHMucHVzaChkb2MuZGF0YSgpLnVzZXIpOwogICAgICB9KTsKICAgICAgZGIuY29sbGVjdGlvbigncGF0aWVudCcpLndpdGhDb252ZXJ0ZXIoUGF0aWVudENvbnZlcnRlcikud2hlcmUoZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkUGF0aC5kb2N1bWVudElkKCksICdpbicsIGlkcykuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnkpIHsKICAgICAgICByZXR1cm4gcXVlcnkuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMucGF0aWVudHNbZG9jLmlkXSA9IGRvYy5kYXRhKCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsgLy8gZGIuY29sbGVjdGlvbigncGF0aWVudCcpLmdldCgpLnRoZW4ocXVlcnlTbmFwc2hvdCA9PiBwYXRpZW50cyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IGRvYy5kYXRhKCkpKTsKICAgIC8vIGRiLmNvbGxlY3Rpb24oJ3JkdicpLndpdGhDb252ZXJ0ZXIoUkRWQ29udmVydGVyKS5hZGQobmV3IFJEVigwLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLm5vdygpLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLm5vdygpKSk7CgogICAgLyoKICAgIGRiLmNvbGxlY3Rpb24oInJkdiIpCiAgICAgIC5kb2MoIjMiKQogICAgICAud2l0aENvbnZlcnRlcihSRFZDb252ZXJ0ZXIpCiAgICAgIC5zZXQobmV3IFJEVigwLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLm5vdygpLCBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLm5vdygpKSk7ICAKICAgICovCiAgfSwKICBtZXRob2RzOiB7fQp9Ow=="},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue"],"names":[],"mappings":";;AAuCA,SAAS,EAAT,QAAmB,YAAnB;AACA,OAAO,QAAP,MAAqB,cAArB,C,CACA;;AACA,SAAS,GAAT,EAAc,YAAd,QAAkC,iBAAlC;AACA,SAAS,gBAAT,QAAiC,qBAAjC;AAEA,IAAM,QAAO,GAAI,EAAjB;AACA,IAAM,IAAG,GAAI,EAAb;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,IAAI,EAAJ,IAFK;AAGL,MAAA,UAAU,EAAE;AAHP,KAAP;AAKD,GARY;AASb,EAAA,OATa,qBASH;AAAA;;AAER;AACA;AACE;AACE;AACE;AACA;AACA;AACE;AACF;AACJ;AACF;AACA;AAEA,QAAI,KAAI,GAAI,IAAI,IAAJ,EAAZ;AACA,IAAA,KAAK,CAAC,QAAN,CAAe,CAAf;AACA,QAAI,QAAO,GAAI,IAAI,IAAJ,EAAf;AACA,IAAA,QAAQ,CAAC,OAAT,CAAiB,QAAQ,CAAC,OAAT,KAAmB,CAApC;AACA,IAAA,QAAQ,CAAC,QAAT,CAAkB,CAAlB;AAEA,QAAI,GAAE,GAAI,EAAV;AAEA,IAAA,EAAE,CAAC,UAAH,CAAc,KAAd,EACG,aADH,CACiB,YADjB,EAEG,KAFH,CAES,OAFT,EAEkB,GAFlB,EAEuB,QAAQ,CAAC,SAAT,CAAmB,SAAnB,CAA6B,QAA7B,CAAsC,KAAtC,CAFvB,EAGG,KAHH,CAGS,OAHT,EAGkB,GAHlB,EAGuB,QAAQ,CAAC,SAAT,CAAmB,SAAnB,CAA6B,QAA7B,CAAsC,QAAtC,CAHvB,EAIG,GAJH,GAKG,IALH,CAKQ,UAAA,KAAI,EAAK;AACb,MAAA,KAAK,CAAC,OAAN,CAAc,UAAA,GAAE,EAAK;AACnB,QAAA,KAAI,CAAC,IAAL,CAAU,IAAV,CAAe,GAAG,CAAC,IAAJ,EAAf;;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,GAAG,CAAC,IAAJ,GAAW,IAApB;AACD,OAHD;AAIA,MAAA,EAAE,CAAC,UAAH,CAAc,SAAd,EACG,aADH,CACiB,gBADjB,EAEG,KAFH,CAES,QAAQ,CAAC,SAAT,CAAmB,SAAnB,CAA6B,UAA7B,EAFT,EAEoD,IAFpD,EAE0D,GAF1D,EAGG,GAHH,GAIG,IAJH,CAIQ,UAAA,KAAI;AAAA,eAAK,KAAK,CAAC,OAAN,CAAc,UAAA,GAAE;AAAA,iBAAK,KAAI,CAAC,QAAL,CAAc,GAAG,CAAC,EAAlB,IAAwB,GAAG,CAAC,IAAJ,EAA7B;AAAA,SAAhB,CAAL;AAAA,OAJZ,EAKG,KALH,CAKS,UAAA,KAAI;AAAA,eAAK,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAL;AAAA,OALb;AAMD,KAhBH,EAiBG,KAjBH,CAiBS,UAAA,KAAI;AAAA,aAAK,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAL;AAAA,KAjBb,EAvBQ,CA0CP;AACD;;AACA;AACA;AACE;AACA;AACA;AACF;AACD,GA3DY;AA6Db,EAAA,OAAO,EAAE;AA7DI,CAAf","sourcesContent":["<template>\n  <section class=\"login-block\">\n    <div class=\"auth-box card\">\n      <div class=\"card-block\">\n      <h1>Kine Home</h1>\n      <br>\n      <ul>\n        <li v-for=\"rdv in rdvs\" :key=\"rdv.message\">\n          <div class=\"box\">\n            <article class=\"media\">\n              <div class=\"media-left\">\n                <figure class=\"image is-64x64\">\n                  <img :src=\"patientImg\" alt=\"Image\">\n                </figure>\n              </div>\n              <div class=\"media-content\">\n                <div class=\"content\">\n                    <strong>{{ patients[rdv.user].prenom }} {{ patients[rdv.user].nom }}</strong>\n                    <br>\n                    {{ rdv.start.toDate().toLocaleDateString(\"fr-FR\", {weekday: 'long', day: 'numeric', month: 'long'}) }}\n                    <br>\n                    {{ rdv.start.toDate().toLocaleTimeString(\"fr-FR\", {hour: '2-digit', minute:'2-digit'}) }} âž” {{ rdv.end.toDate().toLocaleTimeString(\"fr-FR\", {hour: '2-digit', minute:'2-digit'}) }}\n                </div>\n              </div>\n            </article>\n          </div>  \n        </li>\n        </ul>\n      </div>\n    </div>\n    <ul>\n  <li v-for=\"item in this.pts\" :key=\"item.age\">\n    {{ item.prenom }} {{ item.age }}\n  </li>\n</ul>\n  </section>\n</template>\n\n<script>\nimport { db } from \"../main.js\";\nimport firebase from \"firebase/app\";\n// eslint-disable-next-line no-unused-vars\nimport { RDV, RDVConverter } from \"../model/rdv.js\";\nimport { PatientConverter } from \"../model/patient.js\";\n\nconst patients = {}\nconst rdvs = []\n\nexport default {\n  name: \"HomeKine\",\n  data: function () {\n    return {\n      patients,\n      rdvs,\n      patientImg: \"https://semantic-ui.com/images/avatar2/large/matthew.png\"\n    }\n  },\n  created() {\n   \n    /*\n    firebase.auth().onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        firebase\n          .auth()\n          .currentUser.getIdTokenResult()\n          .then((tokenResult) => {\n            console.log(tokenResult.claims);\n          });\n      }\n    });\n    */\n\n    let today = new Date();\n    today.setHours(0);\n    let tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate()+1);\n    tomorrow.setHours(0);\n    \n    let ids = [];\n\n    db.collection('rdv')\n      .withConverter(RDVConverter)\n      .where(\"start\", \">\", firebase.firestore.Timestamp.fromDate(today))\n      .where(\"start\", \"<\", firebase.firestore.Timestamp.fromDate(tomorrow))\n      .get()\n      .then(query => {\n        query.forEach(doc => {\n          this.rdvs.push(doc.data());\n          ids.push(doc.data().user);\n        })\n        db.collection('patient')\n          .withConverter(PatientConverter)\n          .where(firebase.firestore.FieldPath.documentId(), 'in', ids)\n          .get()\n          .then(query => query.forEach(doc => this.patients[doc.id] = doc.data()))\n          .catch(error => console.log(error));   \n      })\n      .catch(error => console.log(error)); \n\n     // db.collection('patient').get().then(querySnapshot => patients = querySnapshot.docs.map(doc => doc.data()));\n    // db.collection('rdv').withConverter(RDVConverter).add(new RDV(0, firebase.firestore.Timestamp.now(), firebase.firestore.Timestamp.now()));\n    /*\n    db.collection(\"rdv\")\n      .doc(\"3\")\n      .withConverter(RDVConverter)\n      .set(new RDV(0, firebase.firestore.Timestamp.now(), firebase.firestore.Timestamp.now()));  \n    */\n  },\n\n  methods: {\n\n  }\n};\n</script>\n\n\nYou can import the css file on App.vue, inside the style tag.\n\n<style>\n  @import '../assets/bulma.min.css';\n</style>\n<style lang=\"css\">\n\n.card {\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  border: none;\n  margin-bottom: 30px;\n  -webkit-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  background-color: #fff;\n}\n\nli {\n  margin-bottom: 10px;\n}\n\n.card .card-block {\n  padding: 1.25rem;\n}\n\n.heading {\n  font-size: 21px;\n}\n\n\nimg {\n  border-radius: 50%;\n}\n\n</style>\n"],"sourceRoot":""}]}