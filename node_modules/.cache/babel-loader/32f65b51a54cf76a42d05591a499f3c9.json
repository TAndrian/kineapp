{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/components/Login.vue","mtime":1642019496931},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xvc3QvQnVyZWF1L09DSS9raW5lYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFcnJvcjogZmFsc2UsCiAgICAgIGVyck1zZzogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXJBdXRoKSB7CiAgICAgIGlmICh1c2VyQXV0aCkgewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuUmVzdWx0KCkudGhlbihmdW5jdGlvbiAodG9rZW5SZXN1bHQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuUmVzdWx0LmNsYWltcyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5CdXR0b25QcmVzc2VkOiBmdW5jdGlvbiBsb2dpbkJ1dHRvblByZXNzZWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKF90aGlzLmVtYWlsLCBfdGhpcy5wYXNzd29yZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL1JEViIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBfdGhpcy5pc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHQudDAuY29kZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSBfY29udGV4dC50MSA9PT0gImF1dGgvaW52YWxpZC1lbWFpbCIgPyAxMiA6IF9jb250ZXh0LnQxID09PSAiYXV0aC91c2VyLW5vdC1mb3VuZCIgPyAxNCA6IF9jb250ZXh0LnQxID09PSAiYXV0aC93cm9uZy1wYXNzd29yZCIgPyAxNiA6IF9jb250ZXh0LnQxID09PSAiYXV0aC9hdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwiID8gMTggOiAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX3RoaXMuZXJyTXNnID0gIkludmFsaWQgZW1haWwiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJNc2cgPSAiTm8gYWNjb3VudCB3aXRoIHRoYXQgZW1haWwgd2FzIGZvdW5kIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3RoaXMuZXJyTXNnID0gIkluY29ycmVjdCBwYXNzd29yZCI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIyKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF90aGlzLmVyck1zZyA9ICJlbWFpbCBhbHJlYWR5IGluIHVzZSI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIyKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF90aGlzLmVyck1zZyA9ICJFbWFpbCBvciBwYXNzd29yZCB3YXMgaW5jb3JyZWN0IjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaWduVXBXaXRoR29vZ2xlOiBmdW5jdGlvbiBzaWduVXBXaXRoR29vZ2xlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwcm92aWRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47CiAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuKTsgLy8gVG9rZW4KCiAgICAgICAgICAgICAgICAgIC8vIFRva2VuCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOyAvLyBVc2VyIHRoYXQgd2FzIGF1dGhlbnRpY2F0ZWQKCiAgICAgICAgICAgICAgICAgIC8vIFVzZXIgdGhhdCB3YXMgYXV0aGVudGljYXRlZAogICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvUkRWIik7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIFRoaXMgd2lsbCBnaXZlIHlvdSBhbGwgdGhlIGluZm9ybWF0aW9uIG5lZWRlZCB0byBmdXJ0aGVyIGRlYnVnIGFueSBlcnJvcnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/components/Login.vue"],"names":[],"mappings":";;AAqFA,OAAO,QAAP,MAAqB,UAArB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,MAAM,EAAE,EAFH;AAGL,MAAA,KAAK,EAAE,EAHF;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,IAAA,QAAQ,CAAC,IAAT,GAAgB,kBAAhB,CAAmC,UAAC,QAAD,EAAc;AAC/C,UAAI,QAAJ,EAAc;AACZ,QAAA,QAAO,CACJ,IADH,GAEG,WAFH,CAEe,gBAFf,GAGG,IAHH,CAGQ,UAAC,WAAD,EAAiB;AACrB,UAAA,OAAO,CAAC,GAAR,CAAY,WAAW,CAAC,MAAxB;AACD,SALH;AAMF;AACD,KATD;AAUD,GArBY;AAuBb,EAAA,OAAO,EAAE;AACD,IAAA,kBADC,gCACoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEjB,QAAO,CACV,IADG,GAEH,0BAFG,CAEwB,KAAI,CAAC,KAF7B,EAEoC,KAAI,CAAC,QAFzC,CAFiB;;AAAA;AAKvB,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,MAAlB;;AALuB;AAAA;;AAAA;AAAA;AAAA;AAOvB,gBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AAPuB,8BAQf,YAAM,IARS;AAAA,gDAShB,oBATgB,wBAYhB,qBAZgB,wBAehB,qBAfgB,wBAkBhB,oDAlBgB;AAAA;;AAAA;AAUnB,gBAAA,KAAI,CAAC,MAAL,GAAc,eAAd;AAVmB;;AAAA;AAanB,gBAAA,KAAI,CAAC,MAAL,GAAc,sCAAd;AAbmB;;AAAA;AAgBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,oBAAd;AAhBmB;;AAAA;AAmBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,sBAAd;AAnBmB;;AAAA;AAsBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,iCAAd;AAtBmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B1B,KA3BM;AA6BD,IAAA,gBA7BC,8BA6BkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAA,QADmB,GACR,IAAI,QAAQ,CAAC,IAAT,CAAc,kBAAlB,EADQ;AAAA;AAAA,uBAEjB,QAAO,CACV,IADG,GAEH,eAFG,CAEa,QAFb,EAGH,IAHG,CAGE,UAAC,MAAD,EAAY;AAChB,sBAAI,KAAI,GAAI,MAAM,CAAC,UAAP,CAAkB,WAA9B;AACA,sBAAI,IAAG,GAAI,MAAM,CAAC,IAAlB;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAHgB,CAGI;;AAAA;AACpB,kBAAA,OAAO,CAAC,GAAR,CAAY,IAAZ,EAJgB,CAIG;;AAAA;AACnB,kBAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,MAAlB;AACD,iBATG,EAUH,KAVG,CAUG,UAAC,GAAD,EAAS;AACd,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ,EADc,CACI;AACnB,iBAZG,CAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAexB;AA5CM;AAvBI,CAAf","sourcesContent":["<template>\n  <section class=\"login-block\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <form class=\"md-float-material form-material\">\n            <div class=\"auth-box card\">\n              <div class=\"card-block\">\n                <div class=\"row\">\n                  <div class=\"col-md-12\">\n                    <h3 class=\"text-center heading\">Se connecter</h3>\n                  </div>\n                </div>\n\n                <div class=\"form-group form-primary\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    v-model=\"email\"\n                  />\n                </div>\n                <div class=\"form-group form-primary\">\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    name=\"password\"\n                    placeholder=\"Mot de passe\"\n                    v-model=\"password\"\n                  />\n                </div>\n\n                <div class=\"row\">\n                  <div class=\"col-md-12 login__button\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\"\n                      @click=\"loginButtonPressed\"\n                    >\n                      se connecter\n                    </button>\n                    <!-- <button type=\"button\" class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\"><i class=\"fa fa-lock\"></i> Signup Now </button> -->\n                  </div>\n                </div>\n                <div class=\"or-container\">\n                  <div class=\"line-separator\"></div>\n                  <div class=\"or-label\">OU</div>\n                  <div class=\"line-separator\"></div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-md-12 login__button\">\n                    <button\n                      @click=\"signUpWithGoogle\"\n                      type=\"button\"\n                      class=\"button--google\"\n                    >\n                      <img\n                        class=\"button--icon\"\n                        src=\"https://img.icons8.com/color/16/000000/google-logo.png\"\n                      />\n\n                      <p class=\"text--error\" v-if=\"isError\">{{ errMsg }}</p>\n\n                      Se connecter via Google\n                    </button>\n                  </div>\n                </div>\n                <br />\n                <p class=\"text-inverse text-center\">\n                  Pas de compte?\n                  <router-link :to=\"{ name: 'Register' }\"\n                    >Cr√©er un compte</router-link\n                  >\n                </p>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport firebase from \"firebase\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      isError: false,\n      errMsg: \"\",\n      email: \"\",\n      password: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        firebase\n          .auth()\n          .currentUser.getIdTokenResult()\n          .then((tokenResult) => {\n            console.log(tokenResult.claims);\n          });\n      }\n    });\n  },\n\n  methods: {\n    async loginButtonPressed() {\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(this.email, this.password);\n        this.$router.push(\"/RDV\");\n      } catch (error) {\n        this.isError = true;\n        switch (error.code) {\n          case \"auth/invalid-email\":\n            this.errMsg = \"Invalid email\";\n            break;\n          case \"auth/user-not-found\":\n            this.errMsg = \"No account with that email was found\";\n            break;\n          case \"auth/wrong-password\":\n            this.errMsg = \"Incorrect password\";\n            break;\n          case \"auth/auth/account-exists-with-different-credential\":\n            this.errMsg = \"email already in use\";\n            break;\n          default:\n            this.errMsg = \"Email or password was incorrect\";\n            break;\n        }\n      }\n    },\n\n    async signUpWithGoogle() {\n      let provider = new firebase.auth.GoogleAuthProvider();\n      await firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n          let token = result.credential.accessToken;\n          let user = result.user;\n          console.log(token); // Token\n          console.log(user); // User that was authenticated\n          this.$router.push(\"/RDV\");\n        })\n        .catch((err) => {\n          console.log(err); // This will give you all the information needed to further debug any errors\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"css\">\n.login-block {\n  margin: 30px auto;\n  min-height: 93.6vh;\n}\n\n.login-block .auth-box {\n  margin: 20px auto 0;\n  max-width: 450px !important;\n}\n\n.card {\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  border: none;\n  margin-bottom: 30px;\n  -webkit-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  background-color: #fff;\n}\n\n.card .card-block {\n  padding: 1.25rem;\n}\n\n.f-80 {\n  font-size: 80px;\n}\n\n.form-group {\n  margin-bottom: 1.25em;\n}\n\n.form-material .form-control {\n  display: inline-block;\n  height: 43px;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  font-size: 16px;\n  font-weight: 400;\n  padding: 9px;\n  background-color: transparent;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border-bottom: 1px solid #ccc;\n}\n\n.btn-md {\n  padding: 10px 16px;\n  font-size: 15px;\n  line-height: 23px;\n}\n\n.btn-primary {\n  background-color: #4099ff;\n  border-color: #4099ff;\n  color: #fff;\n  cursor: pointer;\n  -webkit-transition: all ease-in 0.3s;\n  transition: all ease-in 0.3s;\n}\n\n.btn {\n  border-radius: 2px;\n  text-transform: capitalize;\n  font-size: 15px;\n  padding: 10px 19px;\n  cursor: pointer;\n}\n\n.m-b-20 {\n  margin-bottom: 20px;\n}\n\n.btn-md {\n  padding: 10px 16px;\n  font-size: 15px;\n  line-height: 23px;\n}\n\n.heading {\n  font-size: 21px;\n}\n\n#infoMessage p {\n  color: red !important;\n}\n\n.btn-google {\n  color: #545454;\n  background-color: #ffffff;\n  box-shadow: 0 1px 2px 1px #ddd;\n}\n\n.or-container {\n  align-items: center;\n  color: #ccc;\n  display: flex;\n  margin: 25px 0;\n}\n\n.line-separator {\n  background-color: #ccc;\n  flex-grow: 5;\n  height: 1px;\n}\n\n.or-label {\n  flex-grow: 1;\n  margin: 0 15px;\n  text-align: center;\n}\n\n.login__button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.login__button .button--google {\n  padding: 10px;\n  border: none;\n  border-radius: 7px;\n}\n\n.login__button .button--icon {\n  width: 25px;\n  vertical-align: -5px;\n}\n</style>\n"],"sourceRoot":""}]}