{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue?vue&type=template&id=3c3c9344","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue","mtime":1642016766131},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1640273582176},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImxvZ2luLWJsb2NrIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImF1dGgtYm94IGNhcmQiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY2FyZC1ibG9jayIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgIktpbmUgSG9tZSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJib3giCn07CnZhciBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAibWVkaWEiCn07CnZhciBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAibWVkaWEtbGVmdCIKfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJpbWFnZSBpcy02NHg2NCIKfTsKdmFyIF9ob2lzdGVkXzEwID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAibWVkaWEtY29udGVudCIKfTsKdmFyIF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAiY29udGVudCIKfTsKCnZhciBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygic2VjdGlvbiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19ob2lzdGVkXzQsIF9ob2lzdGVkXzUsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5yZHZzLCBmdW5jdGlvbiAocmR2KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJsaSIsIHsKICAgICAga2V5OiByZHYubWVzc2FnZQogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJhcnRpY2xlIiwgX2hvaXN0ZWRfNywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJmaWd1cmUiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgICBzcmM6IF9jdHgucGF0aWVudEltZywKICAgICAgYWx0OiAiSW1hZ2UiCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF8xMCldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEyLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3Ryb25nIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhfY3R4LnBhdGllbnRzW3Jkdi51c2VyXS5wcmVub20pICsgIiAiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LnBhdGllbnRzW3Jkdi51c2VyXS5ub20pLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfaG9pc3RlZF8xMywgX2NyZWF0ZVRleHRWTm9kZSgiICIgKyBfdG9EaXNwbGF5U3RyaW5nKHJkdi5zdGFydC50b0RhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoImZyLUZSIiwgewogICAgICB3ZWVrZGF5OiAnbG9uZycsCiAgICAgIGRheTogJ251bWVyaWMnLAogICAgICBtb250aDogJ2xvbmcnCiAgICB9KSkgKyAiICIsIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9ob2lzdGVkXzE0LCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcocmR2LnN0YXJ0LnRvRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygiZnItRlIiLCB7CiAgICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgICAgbWludXRlOiAnMi1kaWdpdCcKICAgIH0pKSArICIg4p6UICIgKyBfdG9EaXNwbGF5U3RyaW5nKHJkdi5lbmQudG9EYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCJmci1GUiIsIHsKICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICBtaW51dGU6ICcyLWRpZ2l0JwogICAgfSkpLCAxCiAgICAvKiBURVhUICovCiAgICApXSldKV0pXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCh0aGlzLnB0cywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImxpIiwgewogICAgICBrZXk6IGl0ZW0uYWdlCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0ucHJlbm9tKSArICIgIiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5hZ2UpLCAxCiAgICAvKiBURVhUICovCiAgICApOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKTsKfQ=="},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/components/HomeKine.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section class=\"login-block\">\n    <div class=\"auth-box card\">\n      <div class=\"card-block\">\n      <h1>Kine Home</h1>\n      <br>\n      <ul>\n        <li v-for=\"rdv in rdvs\" :key=\"rdv.message\">\n          <div class=\"box\">\n            <article class=\"media\">\n              <div class=\"media-left\">\n                <figure class=\"image is-64x64\">\n                  <img :src=\"patientImg\" alt=\"Image\">\n                </figure>\n              </div>\n              <div class=\"media-content\">\n                <div class=\"content\">\n                    <strong>{{ patients[rdv.user].prenom }} {{ patients[rdv.user].nom }}</strong>\n                    <br>\n                    {{ rdv.start.toDate().toLocaleDateString(\"fr-FR\", {weekday: 'long', day: 'numeric', month: 'long'}) }}\n                    <br>\n                    {{ rdv.start.toDate().toLocaleTimeString(\"fr-FR\", {hour: '2-digit', minute:'2-digit'}) }} âž” {{ rdv.end.toDate().toLocaleTimeString(\"fr-FR\", {hour: '2-digit', minute:'2-digit'}) }}\n                </div>\n              </div>\n            </article>\n          </div>  \n        </li>\n        </ul>\n      </div>\n    </div>\n    <ul>\n  <li v-for=\"item in this.pts\" :key=\"item.age\">\n    {{ item.prenom }} {{ item.age }}\n  </li>\n</ul>\n  </section>\n</template>\n\n<script>\nimport { db } from \"../main.js\";\nimport firebase from \"firebase/app\";\n// eslint-disable-next-line no-unused-vars\nimport { RDV, RDVConverter } from \"../model/rdv.js\";\nimport { PatientConverter } from \"../model/patient.js\";\n\nconst patients = {}\nconst rdvs = []\n\nexport default {\n  name: \"HomeKine\",\n  data: function () {\n    return {\n      patients,\n      rdvs,\n      patientImg: \"https://semantic-ui.com/images/avatar2/large/matthew.png\"\n    }\n  },\n  created() {\n   \n    /*\n    firebase.auth().onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        firebase\n          .auth()\n          .currentUser.getIdTokenResult()\n          .then((tokenResult) => {\n            console.log(tokenResult.claims);\n          });\n      }\n    });\n    */\n\n    let today = new Date();\n    today.setHours(0);\n    let tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate()+1);\n    tomorrow.setHours(0);\n    \n    let ids = [];\n\n    db.collection('rdv')\n      .withConverter(RDVConverter)\n      .where(\"start\", \">\", firebase.firestore.Timestamp.fromDate(today))\n      .where(\"start\", \"<\", firebase.firestore.Timestamp.fromDate(tomorrow))\n      .get()\n      .then(query => {\n        query.forEach(doc => {\n          this.rdvs.push(doc.data());\n          ids.push(doc.data().user);\n        })\n        db.collection('patient')\n          .withConverter(PatientConverter)\n          .where(firebase.firestore.FieldPath.documentId(), 'in', ids)\n          .get()\n          .then(query => query.forEach(doc => this.patients[doc.id] = doc.data()))\n          .catch(error => console.log(error));   \n      })\n      .catch(error => console.log(error)); \n\n     // db.collection('patient').get().then(querySnapshot => patients = querySnapshot.docs.map(doc => doc.data()));\n    // db.collection('rdv').withConverter(RDVConverter).add(new RDV(0, firebase.firestore.Timestamp.now(), firebase.firestore.Timestamp.now()));\n    /*\n    db.collection(\"rdv\")\n      .doc(\"3\")\n      .withConverter(RDVConverter)\n      .set(new RDV(0, firebase.firestore.Timestamp.now(), firebase.firestore.Timestamp.now()));  \n    */\n  },\n\n  methods: {\n\n  }\n};\n</script>\n\n\nYou can import the css file on App.vue, inside the style tag.\n\n<style>\n  @import '../assets/bulma.min.css';\n</style>\n<style lang=\"css\">\n\n.card {\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  border: none;\n  margin-bottom: 30px;\n  -webkit-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  background-color: #fff;\n}\n\nli {\n  margin-bottom: 10px;\n}\n\n.card .card-block {\n  padding: 1.25rem;\n}\n\n.heading {\n  font-size: 21px;\n}\n\n\nimg {\n  border-radius: 50%;\n}\n\n</style>\n"],"sourceRoot":""}]}