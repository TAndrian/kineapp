{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/thread-loader/dist/cjs.js!/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue?vue&type=template&id=08f1e412","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue","mtime":1641747645673},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/thread-loader/dist/cjs.js","mtime":1640273572664},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1640273582176},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiaG9tZVBhZ2VLaW5lIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInVpIG1pZGRsZSBhbGlnbmVkIGNlbnRlciBhbGlnbmVkIGdyaWQiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY29sdW1uIgp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCAiQWRtaW4iLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInVpIGNlbGxlZCB0YWJsZSIKfTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoZWFkIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0ciIsIG51bGwsIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiRW1haWwiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlJvbGUiKV0pXSwgLTEpOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAgImRhdGEtbGFiZWwiOiAiTmFtZSIKfTsKdmFyIF9ob2lzdGVkXzggPSBbIm9uQ2hhbmdlIl07CnZhciBfaG9pc3RlZF85ID0gWyJzZWxlY3RlZCJdOwp2YXIgX2hvaXN0ZWRfMTAgPSBbInNlbGVjdGVkIl07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygic2VjdGlvbiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19ob2lzdGVkXzQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCAiVXNlcjoiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS51c2VyLmVtYWlsKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAidWkgcGluayBzdWJtaXQgYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuc2lnbm91dCAmJiAkb3B0aW9ucy5zaWdub3V0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiU2lnbm91dCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIF9ob2lzdGVkXzUsIFtfaG9pc3RlZF82LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0Ym9keSIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLnVzZXJzLCBmdW5jdGlvbiAodXNlcikgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCB7CiAgICAgIGtleTogdXNlci5pZAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZyh1c2VyLmVtYWlsKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNlbGVjdCIsIHsKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5jaGFuZ2VSb2xlKHVzZXIuaWQsICRldmVudCk7CiAgICAgIH0KICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJvcHRpb24iLCB7CiAgICAgIHNlbGVjdGVkOiB1c2VyLnJvbGUuZHJpdmVyLAogICAgICB2YWx1ZTogImRyaXZlciIKICAgIH0sICIgRHJpdmVyICIsIDgsIF9ob2lzdGVkXzkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJvcHRpb24iLCB7CiAgICAgIHNlbGVjdGVkOiB1c2VyLnJvbGUuY3VzdG9tZXIsCiAgICAgIHZhbHVlOiAiY3VzdG9tZXIiCiAgICB9LCAiIEN1c3RvbWVyICIsIDgsIF9ob2lzdGVkXzEwKV0sIDQwLCBfaG9pc3RlZF84KV0pOwogIH0pLCAxMjgpKV0pXSldKV0pXSk7Cn0="},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue"],"names":[],"mappings":";;AACW,EAAA,KAAK,EAAC;;;AACR,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,mBAAA,CAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,EAAS,CAAA,CAAT,C;;;AAGO,EAAA,KAAK,EAAC;;;8BACX,mBAAA,CAKQ,OALR,EAKQ,IALR,EAKQ,C,aAJN,mBAAA,CAGK,IAHL,EAGK,IAHL,EAGK,C,aAFH,mBAAA,CAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,CAEG,E,aADH,mBAAA,CAAa,IAAb,EAAa,IAAb,EAAI,MAAJ,CACG,CAHL,CAIM,CALR,E,EAAA,C;;;AAQQ,gBAAW;;;;;;uBAf3B,mBAAA,CA6BU,SA7BV,EAAA,UAAA,EA6BU,CA5BR,mBAAA,CA2BM,KA3BN,EAAA,UAAA,EA2BM,CA1BJ,mBAAA,CAyBM,KAzBN,EAAA,UAAA,EAyBM,CAxBJ,UAwBI,EAvBJ,mBAAA,CAA4B,GAA5B,EAA4B,IAA5B,EAAG,UAAK,gBAAA,CAAG,KAAA,CAAA,IAAA,CAAK,KAAR,CAAR,EAAqB,CAArB,CAuBI,EAtBJ,mBAAA,CAAuE,QAAvE,EAAuE;AAA/D,IAAA,KAAK,EAAC,uBAAyD;AAAhC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,OAAA,IAAA,QAAA,CAAA,OAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAA2B,GAAvE,EAAuD,SAAvD,CAsBI,EArBJ,mBAAA,CAoBQ,OApBR,EAAA,UAAA,EAoBQ,CAnBN,UAmBM,EAbN,mBAAA,CAYQ,OAZR,EAYQ,IAZR,EAYQ,E,kBAXN,mBAAA,CAUK,SAVL,EAUK,IAVL,EAUK,WAAA,CAVc,KAAA,CAAA,KAUd,EAVmB,UAAb,IAAa,EAAT;yBAAf,mBAAA,CAUK,IAVL,EAUK;AAVsB,MAAA,GAAG,EAAE,IAAI,CAAC;AAUhC,KAVL,E,CACE,mBAAA,CAA2C,IAA3C,EAAA,UAAA,EAA2C,gBAAA,CAAlB,IAAI,CAAC,KAAa,CAA3C,EAAmC,CAAnC,C,EACA,mBAAA,CAOS,QAPT,EAOS;AAPA,MAAA,QAAM,EAAA,kBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,UAAA,CAAW,IAAI,CAAC,EAAhB,EAAoB,MAApB,CAAF;AAAA;AAON,KAPT,E,CACE,mBAAA,CAES,QAFT,EAES;AAFA,MAAA,QAAQ,EAAE,IAAI,CAAC,IAAL,CAAU,MAEpB;AAF4B,MAAA,KAAK,EAAC;AAElC,KAFT,EAAoD,UAApD,EAEA,CAFA,EAEA,UAFA,C,EAGA,mBAAA,CAES,QAFT,EAES;AAFA,MAAA,QAAQ,EAAE,IAAI,CAAC,IAAL,CAAU,QAEpB;AAF8B,MAAA,KAAK,EAAC;AAEpC,KAFT,EAAwD,YAAxD,EAEA,CAFA,EAEA,WAFA,C,CAJF,E,EAAA,E,UAAA,C,CAFF,C;GAUK,CAVL,E,GAAA,CAWM,EAZR,CAaM,CApBR,CAqBI,CAzBN,CA0BI,CA3BN,CA4BQ,CA7BV,C","sourcesContent":["<template>\n  <section class=\"homePageKine\">\n    <div class=\"ui middle aligned center aligned grid\">\n      <div class=\"column\">\n        <h1>Admin</h1>\n        <p>User:{{ user.email }}</p>\n        <button class=\"ui pink submit button\" @click=\"signout\">Signout</button>\n        <table class=\"ui celled table\">\n          <thead>\n            <tr>\n              <th>Email</th>\n              <th>Role</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"user in users\" :key=\"user.id\">\n              <td data-label=\"Name\">{{ user.email }}</td>\n              <select @change=\"changeRole(user.id, $event)\">\n                <option :selected=\"user.role.driver\" value=\"driver\">\n                  Driver\n                </option>\n                <option :selected=\"user.role.customer\" value=\"customer\">\n                  Customer\n                </option>\n              </select>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  name: \"HomePageKine\",\n  data() {\n    return {\n      users: [],\n      user: null,\n    };\n  },\n\n  created() {\n    var self = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      self.user = user;\n    });\n\n    this.users = [];\n    firebase\n      .firestore()\n      .collection(\"roles\")\n      .get()\n      .then((snap) => {\n        snap.forEach((doc) => {\n          var user = doc.data();\n          user.id = doc.id;\n          console.log(doc.data());\n          if (!user.role.admin) this.users.push(user);\n        });\n      });\n  },\n  methods: {\n    signout() {\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          this.$router.push(\"/Login\");\n        });\n    },\n    changeRole(uid, event) {\n      var addMessage = firebase.functions().httpsCallable(\"setUserRole\");\n\n      var data = { uid: uid, role: { [event.target.value]: true } };\n\n      addMessage(data)\n        .then(function (result) {\n          console.log(result);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}