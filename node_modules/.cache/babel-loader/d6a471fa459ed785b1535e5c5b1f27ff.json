{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/thread-loader/dist/cjs.js!/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/components/Login.vue","mtime":1641758933964},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/thread-loader/dist/cjs.js","mtime":1640273572664},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xvc3QvQnVyZWF1L09DSS9raW5lYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFcnJvcjogZmFsc2UsCiAgICAgIGVyck1zZzogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXJBdXRoKSB7CiAgICAgIGlmICh1c2VyQXV0aCkgewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuUmVzdWx0KCkudGhlbihmdW5jdGlvbiAodG9rZW5SZXN1bHQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJUSElTIElTIFRIRSBDTEFJTVMgOiAiICsgdG9rZW5SZXN1bHQuY2xhaW1zLmN1cnJlbnRVc2VyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbkJ1dHRvblByZXNzZWQ6IGZ1bmN0aW9uIGxvZ2luQnV0dG9uUHJlc3NlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuaXNFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoX3RoaXMuZW1haWwsIF90aGlzLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIF90aGlzLmlzRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC50MC5jb2RlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQxID09PSAiYXV0aC9pbnZhbGlkLWVtYWlsIiA/IDEyIDogX2NvbnRleHQudDEgPT09ICJhdXRoL3VzZXItbm90LWZvdW5kIiA/IDE0IDogX2NvbnRleHQudDEgPT09ICJhdXRoL3dyb25nLXBhc3N3b3JkIiA/IDE2IDogX2NvbnRleHQudDEgPT09ICJhdXRoL2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCIgPyAxOCA6IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJNc2cgPSAiSW52YWxpZCBlbWFpbCI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzLmVyck1zZyA9ICJObyBhY2NvdW50IHdpdGggdGhhdCBlbWFpbCB3YXMgZm91bmQiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMik7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJNc2cgPSAiSW5jb3JyZWN0IHBhc3N3b3JkIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjIpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXMuZXJyTXNnID0gImVtYWlsIGFscmVhZHkgaW4gdXNlIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjIpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX3RoaXMuZXJyTXNnID0gIkVtYWlsIG9yIHBhc3N3b3JkIHdhcyBpbmNvcnJlY3QiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMik7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNpZ25VcFdpdGhHb29nbGU6IGZ1bmN0aW9uIHNpZ25VcFdpdGhHb29nbGUoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwcm92aWRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47CiAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuKTsgLy8gVG9rZW4KCiAgICAgICAgICAgICAgICAgIC8vIFRva2VuCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOyAvLyBVc2VyIHRoYXQgd2FzIGF1dGhlbnRpY2F0ZWQKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gVGhpcyB3aWxsIGdpdmUgeW91IGFsbCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGZ1cnRoZXIgZGVidWcgYW55IGVycm9ycwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/components/Login.vue"],"names":[],"mappings":";;AAkFA,OAAO,QAAP,MAAqB,UAArB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,MAAM,EAAE,EAFH;AAGL,MAAA,KAAK,EAAE,EAHF;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,IAAA,QAAQ,CAAC,IAAT,GAAgB,kBAAhB,CAAmC,UAAC,QAAD,EAAc;AAC/C,UAAI,QAAJ,EAAc;AACZ,QAAA,QAAO,CACJ,IADH,GAEG,WAFH,CAEe,gBAFf,GAGG,IAHH,CAGQ,UAAC,WAAD,EAAiB;AACrB,UAAA,OAAO,CAAC,GAAR,CACE,0BAA0B,WAAW,CAAC,MAAZ,CAAmB,WAD/C;AAGD,SAPH;AAQF;AACD,KAXD;AAYD,GAvBY;AAyBb,EAAA,OAAO,EAAE;AACD,IAAA,kBADC,gCACoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACzB,gBAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AADyB;AAAA;AAAA,uBAGjB,QAAO,CACV,IADG,GAEH,0BAFG,CAEwB,KAAI,CAAC,KAF7B,EAEoC,KAAI,CAAC,QAFzC,CAHiB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOvB,gBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AAPuB,8BAQf,YAAM,IARS;AAAA,gDAShB,oBATgB,wBAYhB,qBAZgB,wBAehB,qBAfgB,wBAkBhB,oDAlBgB;AAAA;;AAAA;AAUnB,gBAAA,KAAI,CAAC,MAAL,GAAc,eAAd;AAVmB;;AAAA;AAanB,gBAAA,KAAI,CAAC,MAAL,GAAc,sCAAd;AAbmB;;AAAA;AAgBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,oBAAd;AAhBmB;;AAAA;AAmBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,sBAAd;AAnBmB;;AAAA;AAsBnB,gBAAA,KAAI,CAAC,MAAL,GAAc,iCAAd;AAtBmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B1B,KA3BM;AA6BD,IAAA,gBA7BC,8BA6BkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAA,QADmB,GACR,IAAI,QAAQ,CAAC,IAAT,CAAc,kBAAlB,EADQ;AAAA;AAAA,uBAEjB,QAAO,CACV,IADG,GAEH,eAFG,CAEa,QAFb,EAGH,IAHG,CAGE,UAAC,MAAD,EAAY;AAChB,sBAAI,KAAI,GAAI,MAAM,CAAC,UAAP,CAAkB,WAA9B;AACA,sBAAI,IAAG,GAAI,MAAM,CAAC,IAAlB;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAHgB,CAGI;;AAAA;AACpB,kBAAA,OAAO,CAAC,GAAR,CAAY,IAAZ,EAJgB,CAIG;AACpB,iBARG,EASH,KATG,CASG,UAAC,GAAD,EAAS;AACd,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ,EADc,CACI;AACnB,iBAXG,CAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcxB;AA3CM;AAzBI,CAAf","sourcesContent":["<template>\n  <section class=\"login-block\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <form class=\"md-float-material form-material\">\n            <div class=\"auth-box card\">\n              <div class=\"card-block\">\n                <div class=\"row\">\n                  <div class=\"col-md-12\">\n                    <h3 class=\"text-center heading\">Se connecter</h3>\n                  </div>\n                </div>\n\n                <div class=\"form-group form-primary\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    v-model=\"email\"\n                  />\n                </div>\n                <div class=\"form-group form-primary\">\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    name=\"password\"\n                    placeholder=\"Mot de passe\"\n                    v-model=\"password\"\n                  />\n                </div>\n                <p class=\"text--error\" v-if=\"isError\">{{ errMsg }}</p>\n\n                <div class=\"row\">\n                  <div class=\"col-md-12\">\n                    <button\n                      @click=\"loginButtonPressed\"\n                      type=\"button\"\n                      class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\"\n                    >\n                      se connecter\n                    </button>\n                    <!-- <button type=\"button\" class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\"><i class=\"fa fa-lock\"></i> Signup Now </button> -->\n                  </div>\n                </div>\n                <div class=\"or-container\">\n                  <div class=\"line-separator\"></div>\n                  <div class=\"or-label\">OU</div>\n                  <div class=\"line-separator\"></div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-md-12\">\n                    <button\n                      @click=\"signUpWithGoogle\"\n                      type=\"button\"\n                      class=\"btn btn-lg btn-google btn-block text-uppercase btn-outline\"\n                    >\n                      <img\n                        src=\"https://img.icons8.com/color/16/000000/google-logo.png\"\n                      />\n                      Se connecter via Google\n                    </button>\n                  </div>\n                </div>\n                <br />\n                <p class=\"text-inverse text-center\">\n                  Pas de compte?\n                  <router-link :to=\"{ name: 'Register' }\"\n                    >Créer un compte</router-link\n                  >\n                </p>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport firebase from \"firebase\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      isError: false,\n      errMsg: \"\",\n      email: \"\",\n      password: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        firebase\n          .auth()\n          .currentUser.getIdTokenResult()\n          .then((tokenResult) => {\n            console.log(\n              \"THIS IS THE CLAIMS : \" + tokenResult.claims.currentUser\n            );\n          });\n      }\n    });\n  },\n\n  methods: {\n    async loginButtonPressed() {\n      this.isError = false;\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(this.email, this.password);\n      } catch (error) {\n        this.isError = true;\n        switch (error.code) {\n          case \"auth/invalid-email\":\n            this.errMsg = \"Invalid email\";\n            break;\n          case \"auth/user-not-found\":\n            this.errMsg = \"No account with that email was found\";\n            break;\n          case \"auth/wrong-password\":\n            this.errMsg = \"Incorrect password\";\n            break;\n          case \"auth/auth/account-exists-with-different-credential\":\n            this.errMsg = \"email already in use\";\n            break;\n          default:\n            this.errMsg = \"Email or password was incorrect\";\n            break;\n        }\n      }\n    },\n\n    async signUpWithGoogle() {\n      let provider = new firebase.auth.GoogleAuthProvider();\n      await firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n          let token = result.credential.accessToken;\n          let user = result.user;\n          console.log(token); // Token\n          console.log(user); // User that was authenticated\n        })\n        .catch((err) => {\n          console.log(err); // This will give you all the information needed to further debug any errors\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"css\">\n.login-block {\n  margin: 30px auto;\n  min-height: 93.6vh;\n}\n\n.login-block .auth-box {\n  margin: 20px auto 0;\n  max-width: 450px !important;\n}\n\n.card {\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  box-shadow: 0 0 5px 0 rgba(43, 43, 43, 0.1),\n    0 11px 6px -7px rgba(43, 43, 43, 0.1);\n  border: none;\n  margin-bottom: 30px;\n  -webkit-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  background-color: #fff;\n}\n\n.card .card-block {\n  padding: 1.25rem;\n}\n\n.f-80 {\n  font-size: 80px;\n}\n\n.form-group {\n  margin-bottom: 1.25em;\n}\n\n.form-material .form-control {\n  display: inline-block;\n  height: 43px;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  font-size: 16px;\n  font-weight: 400;\n  padding: 9px;\n  background-color: transparent;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border-bottom: 1px solid #ccc;\n}\n\n.btn-md {\n  padding: 10px 16px;\n  font-size: 15px;\n  line-height: 23px;\n}\n\n.btn-primary {\n  background-color: #4099ff;\n  border-color: #4099ff;\n  color: #fff;\n  cursor: pointer;\n  -webkit-transition: all ease-in 0.3s;\n  transition: all ease-in 0.3s;\n}\n\n.btn {\n  border-radius: 2px;\n  text-transform: capitalize;\n  font-size: 15px;\n  padding: 10px 19px;\n  cursor: pointer;\n}\n\n.m-b-20 {\n  margin-bottom: 20px;\n}\n\n.btn-md {\n  padding: 10px 16px;\n  font-size: 15px;\n  line-height: 23px;\n}\n\n.heading {\n  font-size: 21px;\n}\n\n#infoMessage p {\n  color: red !important;\n}\n\n.btn-google {\n  color: #545454;\n  background-color: #ffffff;\n  box-shadow: 0 1px 2px 1px #ddd;\n}\n\n.or-container {\n  align-items: center;\n  color: #ccc;\n  display: flex;\n  margin: 25px 0;\n}\n\n.line-separator {\n  background-color: #ccc;\n  flex-grow: 5;\n  height: 1px;\n}\n\n.or-label {\n  flex-grow: 1;\n  margin: 0 15px;\n  text-align: center;\n}\n</style>\n"],"sourceRoot":""}]}