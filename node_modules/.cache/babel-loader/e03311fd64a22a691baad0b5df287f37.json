{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js!/home/lost/Bureau/OCI/kineapp/node_modules/eslint-loader/index.js??ref--14-0!/home/lost/Bureau/OCI/kineapp/src/router/index.js","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/router/index.js","mtime":1642016766259},{"path":"/home/lost/Bureau/OCI/kineapp/babel.config.js","mtime":1641732054737},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/eslint-loader/index.js","mtime":1640273580552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGFzaEhpc3RvcnkgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IENvbm5leGlvbiBmcm9tICIuLi92aWV3cy9Db25uZXhpb24udnVlIjsKaW1wb3J0IEhvbWVQYWdlS2luZSBmcm9tICIuLi92aWV3cy9Ib21lUGFnZUtpbmUudnVlIjsKaW1wb3J0IEhvbWVQYWdlUGF0aWVudCBmcm9tICIuLi92aWV3cy9Ib21lUGFnZVBhdGllbnQudnVlIjsKaW1wb3J0IEVEVCBmcm9tICIuLi92aWV3cy9FRFQudnVlIjsKaW1wb3J0IEV4ZXJjaWNlIGZyb20gIi4uL3ZpZXdzL0V4ZXJjaWNlLnZ1ZSI7CmltcG9ydCBQYXRpZW50IGZyb20gIi4uL3ZpZXdzL1BhdGllbnQudnVlIjsKaW1wb3J0IFJEViBmcm9tICIuLi92aWV3cy9SRFYudnVlIjsKaW1wb3J0IFBhZ2VQYXRpZW50Rm9ybXVsYWlyZSBmcm9tICIuLi92aWV3cy9QYWdlUGF0aWVudEZvcm11bGFpcmUudnVlIjsKaW1wb3J0IFJlZ2lzdGVyIGZyb20gIi4uL2NvbXBvbmVudHMvUmVnaXN0ZXIudnVlIjsKaW1wb3J0IExvZ2luIGZyb20gIi4uL2NvbXBvbmVudHMvTG9naW4udnVlIjsKaW1wb3J0IENhbGVuZHJpZXIgZnJvbSAiLi4vY29tcG9uZW50cy9DYWxlbmRyaWVyLnZ1ZSI7CmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CmltcG9ydCBMaXN0UGF0aWVudCBmcm9tICIuLi9jb21wb25lbnRzL0xpc3RQYXRpZW50LnZ1ZSI7CmltcG9ydCBGaWNoZVBhdGllbnQgZnJvbSAiLi4vY29tcG9uZW50cy9GaWNoZVBhdGllbnQudnVlIjsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJDb25uZXhpb24iLAogIGNvbXBvbmVudDogQ29ubmV4aW9uCn0sIHsKICBwYXRoOiAiL1JlZ2lzdGVyIiwKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGNvbXBvbmVudDogUmVnaXN0ZXIsCiAgbWV0YTogewogICAgZ3Vlc3Q6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL0NhbGVuZHJpZXIiLAogIG5hbWU6ICJDYWxlbmRyaWVyIiwKICBjb21wb25lbnQ6IENhbGVuZHJpZXIKfSwgewogIHBhdGg6ICIvTG9naW4iLAogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50OiBMb2dpbiwKICBtZXRhOiB7CiAgICBndWVzdDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvUGFnZVBhdGllbnRGb3JtdWxhaXJlIiwKICBuYW1lOiAiUGFnZVBhdGllbnRGb3JtdWxhaXJlIiwKICBjb21wb25lbnQ6IFBhZ2VQYXRpZW50Rm9ybXVsYWlyZQp9LCB7CiAgcGF0aDogIi9Ib21lUGFnZUtpbmUiLAogIG5hbWU6ICJIb21lUGFnZUtpbmUiLAogIGNvbXBvbmVudDogSG9tZVBhZ2VLaW5lLAogIG1ldGE6IHsKICAgIGF1dGg6IHRydWUKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogIi9SRFYiLAogICAgbmFtZTogIlJEViIsCiAgICBjb21wb25lbnQ6IFJEVgogIH0sIHsKICAgIHBhdGg6ICIvRURUIiwKICAgIG5hbWU6ICJFRFQiLAogICAgY29tcG9uZW50OiBFRFQKICB9LCB7CiAgICBwYXRoOiAiL0V4ZXJjaWNlIiwKICAgIG5hbWU6ICJFeGVyY2ljZSIsCiAgICBjb21wb25lbnQ6IEV4ZXJjaWNlCiAgfSwgewogICAgcGF0aDogIi9QYXRpZW50IiwKICAgIG5hbWU6ICJQYXRpZW50IiwKICAgIGNvbXBvbmVudDogUGF0aWVudAogIH1dCn0sIHsKICBwYXRoOiAiL0hvbWVQYWdlUGF0aWVudCIsCiAgbmFtZTogIkhvbWVQYWdlUGF0aWVudCIsCiAgY29tcG9uZW50OiBIb21lUGFnZVBhdGllbnQsCiAgbWV0YTogewogICAgYXV0aDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvTGlzdFBhdGllbnQiLAogIG5hbWU6ICJMaXN0UGF0aWVudCIsCiAgY29tcG9uZW50OiBMaXN0UGF0aWVudCwKICBtZXRhOiB7CiAgICBhdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogIi9GaWNoZVBhdGllbnQvOmlkIiwKICBuYW1lOiAiRmljaGVQYXRpZW50IiwKICBjb21wb25lbnQ6IEZpY2hlUGF0aWVudCwKICBtZXRhOiB7CiAgICBhdXRoOiB0cnVlCiAgfQp9XTsKZXhwb3J0IHZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCksCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgX2Zyb20sIG5leHQpIHsKICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyQXV0aCkgewogICAgaWYgKHVzZXJBdXRoKSB7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuUmVzdWx0KCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBjbGFpbXMgPSBfcmVmLmNsYWltczsKCiAgICAgICAgaWYgKGNsYWltcy5wYXRpZW50KSB7CiAgICAgICAgICBpZiAodG8ucGF0aCAhPT0gIi9Ib21lUGFnZVBhdGllbnQiKSByZXR1cm4gbmV4dCh7CiAgICAgICAgICAgIHBhdGg6ICIvSG9tZVBhZ2VQYXRpZW50IgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChjbGFpbXMuYWRtaW4pIHsKICAgICAgICAgIGlmICh0by5wYXRoICE9PSAiL0hvbWVQYWdlS2luZSIpIHJldHVybiBuZXh0KHsKICAgICAgICAgICAgcGF0aDogIi9Ib21lUGFnZUtpbmUiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgcmV0dXJuIHJlY29yZC5tZXRhLmF1dGg7CiAgICAgIH0pKSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBwYXRoOiAiL0xpc3RQYXRpZW50IiwKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfQogIH0pOwogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/router/index.js"],"names":["createRouter","createWebHashHistory","Connexion","HomePageKine","HomePagePatient","EDT","Exercice","Patient","RDV","PagePatientFormulaire","Register","Login","Calendrier","firebase","ListPatient","FichePatient","routes","path","name","component","meta","guest","auth","children","router","history","beforeEach","to","_from","next","onAuthStateChanged","userAuth","currentUser","getIdTokenResult","then","claims","patient","admin","matched","some","record","query","redirect","fullPath"],"mappings":"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","sourcesContent":["import { createRouter, createWebHashHistory } from \"vue-router\";\nimport Connexion from \"../views/Connexion.vue\";\nimport HomePageKine from \"../views/HomePageKine.vue\";\nimport HomePagePatient from \"../views/HomePagePatient.vue\";\nimport EDT from \"../views/EDT.vue\";\nimport Exercice from \"../views/Exercice.vue\";\nimport Patient from \"../views/Patient.vue\";\nimport RDV from \"../views/RDV.vue\";\nimport PagePatientFormulaire from \"../views/PagePatientFormulaire.vue\";\n\nimport Register from \"../components/Register.vue\";\nimport Login from \"../components/Login.vue\";\nimport Calendrier from \"../components/Calendrier.vue\";\nimport firebase from \"firebase\";\nimport ListPatient from \"../components/ListPatient.vue\";\nimport FichePatient from \"../components/FichePatient.vue\";\n\n\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Connexion\",\n    component: Connexion,\n  },\n  {\n    path: \"/Register\",\n    name: \"Register\",\n    component: Register,\n    meta: {\n      guest: true,\n    },\n  },\n  {\n    path: \"/Calendrier\",\n    name: \"Calendrier\",\n    component: Calendrier,\n  },\n\n  {\n    path: \"/Login\",\n    name: \"Login\",\n    component: Login,\n    meta: {\n      guest: true,\n    },\n  },\n\n  {\n    path: \"/PagePatientFormulaire\",\n    name: \"PagePatientFormulaire\",\n    component: PagePatientFormulaire,\n  },\n\n  {\n    path: \"/HomePageKine\",\n    name: \"HomePageKine\",\n    component: HomePageKine,\n    meta: {\n      auth: true,\n    },\n    children: [\n      {\n        path: \"/RDV\",\n        name: \"RDV\",\n        component: RDV,\n      },\n      {\n        path: \"/EDT\",\n        name: \"EDT\",\n        component: EDT,\n      },\n      {\n        path: \"/Exercice\",\n        name: \"Exercice\",\n        component: Exercice,\n      },\n      {\n        path: \"/Patient\",\n        name: \"Patient\",\n        component: Patient,\n      },\n    ],\n  },\n\n  {\n    path: \"/HomePagePatient\",\n    name: \"HomePagePatient\",\n    component: HomePagePatient,\n    meta: {\n      auth: true,\n    },\n  },\n\n  {\n    path: \"/ListPatient\",\n    name: \"ListPatient\",\n    component: ListPatient,\n    meta: {\n      auth: true,\n    },\n  },\n\n  {\n    path: \"/FichePatient/:id\",\n    name: \"FichePatient\",\n    \n    component: FichePatient,\n    meta: {\n      auth: true,\n    },\n  },\n  \n\n];\n\nexport const router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, _from, next) => {\n  firebase.auth().onAuthStateChanged((userAuth) => {\n    if (userAuth) {\n      firebase\n        .auth()\n        .currentUser.getIdTokenResult()\n        .then(function ({ claims }) {\n          if (claims.patient) {\n            if (to.path !== \"/HomePagePatient\")\n              return next({\n                path: \"/HomePagePatient\",\n              });\n          } else if (claims.admin) {\n            if (to.path !== \"/HomePageKine\")\n              return next({\n                path: \"/HomePageKine\",\n              });\n          }\n        });\n    } else {\n      if (to.matched.some((record) => record.meta.auth)) {\n        next({\n          path: \"/ListPatient\",\n          query: {\n            redirect: to.fullPath,\n          },\n        });\n      } else {\n        next();\n      }\n    }\n  });\n\n  next();\n});\n\nexport default router;\n"]}]}