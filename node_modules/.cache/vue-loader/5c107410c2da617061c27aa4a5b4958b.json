{"remainingRequest":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue?vue&type=template&id=08f1e412","dependencies":[{"path":"/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue","mtime":1641747645673},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/thread-loader/dist/cjs.js","mtime":1640273572664},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/babel-loader/lib/index.js","mtime":1639687650488},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1640273582176},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/cache-loader/dist/cjs.js","mtime":1640273572679},{"path":"/home/lost/Bureau/OCI/kineapp/node_modules/vue-loader-v16/dist/index.js","mtime":1640273582176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPHNlY3Rpb24gY2xhc3M9ImhvbWVQYWdlS2luZSI+CiAgICA8ZGl2IGNsYXNzPSJ1aSBtaWRkbGUgYWxpZ25lZCBjZW50ZXIgYWxpZ25lZCBncmlkIj4KICAgICAgPGRpdiBjbGFzcz0iY29sdW1uIj4KICAgICAgICA8aDE+QWRtaW48L2gxPgogICAgICAgIDxwPlVzZXI6e3sgdXNlci5lbWFpbCB9fTwvcD4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1aSBwaW5rIHN1Ym1pdCBidXR0b24iIEBjbGljaz0ic2lnbm91dCI+U2lnbm91dDwvYnV0dG9uPgogICAgICAgIDx0YWJsZSBjbGFzcz0idWkgY2VsbGVkIHRhYmxlIj4KICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgIDx0aD5FbWFpbDwvdGg+CiAgICAgICAgICAgICAgPHRoPlJvbGU8L3RoPgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgPC90aGVhZD4KICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgPHRyIHYtZm9yPSJ1c2VyIGluIHVzZXJzIiA6a2V5PSJ1c2VyLmlkIj4KICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD0iTmFtZSI+e3sgdXNlci5lbWFpbCB9fTwvdGQ+CiAgICAgICAgICAgICAgPHNlbGVjdCBAY2hhbmdlPSJjaGFuZ2VSb2xlKHVzZXIuaWQsICRldmVudCkiPgogICAgICAgICAgICAgICAgPG9wdGlvbiA6c2VsZWN0ZWQ9InVzZXIucm9sZS5kcml2ZXIiIHZhbHVlPSJkcml2ZXIiPgogICAgICAgICAgICAgICAgICBEcml2ZXIKICAgICAgICAgICAgICAgIDwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiA6c2VsZWN0ZWQ9InVzZXIucm9sZS5jdXN0b21lciIgdmFsdWU9ImN1c3RvbWVyIj4KICAgICAgICAgICAgICAgICAgQ3VzdG9tZXIKICAgICAgICAgICAgICAgIDwvb3B0aW9uPgogICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgPC90Ym9keT4KICAgICAgICA8L3RhYmxlPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvc2VjdGlvbj4K"},{"version":3,"sources":["/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue"],"names":[],"mappings":"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","file":"/home/lost/Bureau/OCI/kineapp/src/views/HomePageKine.vue","sourceRoot":"","sourcesContent":["<template>\n  <section class=\"homePageKine\">\n    <div class=\"ui middle aligned center aligned grid\">\n      <div class=\"column\">\n        <h1>Admin</h1>\n        <p>User:{{ user.email }}</p>\n        <button class=\"ui pink submit button\" @click=\"signout\">Signout</button>\n        <table class=\"ui celled table\">\n          <thead>\n            <tr>\n              <th>Email</th>\n              <th>Role</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"user in users\" :key=\"user.id\">\n              <td data-label=\"Name\">{{ user.email }}</td>\n              <select @change=\"changeRole(user.id, $event)\">\n                <option :selected=\"user.role.driver\" value=\"driver\">\n                  Driver\n                </option>\n                <option :selected=\"user.role.customer\" value=\"customer\">\n                  Customer\n                </option>\n              </select>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  name: \"HomePageKine\",\n  data() {\n    return {\n      users: [],\n      user: null,\n    };\n  },\n\n  created() {\n    var self = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      self.user = user;\n    });\n\n    this.users = [];\n    firebase\n      .firestore()\n      .collection(\"roles\")\n      .get()\n      .then((snap) => {\n        snap.forEach((doc) => {\n          var user = doc.data();\n          user.id = doc.id;\n          console.log(doc.data());\n          if (!user.role.admin) this.users.push(user);\n        });\n      });\n  },\n  methods: {\n    signout() {\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          this.$router.push(\"/Login\");\n        });\n    },\n    changeRole(uid, event) {\n      var addMessage = firebase.functions().httpsCallable(\"setUserRole\");\n\n      var data = { uid: uid, role: { [event.target.value]: true } };\n\n      addMessage(data)\n        .then(function (result) {\n          console.log(result);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n"]}]}